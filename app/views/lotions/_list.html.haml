-# http://www.responsivewebmobile.com/posts/view/2013/06/04/5/Responsive_Pin_Page_templates_free

- model_class = Lotion

#lotions
  - lotions.each do |lotion|
    .masonry-item.masonry-brick
      %h5.text-center
        - truncated_name = truncate(lotion.name, length: 40, omission: "", separator: " ")
        = link_to(truncated_name, lotion_url(lotion))
      .picture
        %a.image{:href => lotion_url(lotion), :title => "Title"}
          = cl_image_tag(lotion.photos.first.try(:path), { size: '270x200', crop: :fit })
          -#%img{:alt => "", :src => lotion.image_url}/
        .lotion-content
          .description
            %p=""
          .meta
            %span.price
              -#%i.icon-calendar
              =# money_format(lotion.price)
            %span
              -#%i.icon-user
              -#%a.btn.btn-green-with-white{href: lotion.affiliate_url, style: "float: right;", target: "_blank"} View Lotions
            -#%span
            -#  %i.icon-heart-empty
            -#  10
          - if current_user.present? && (current_user.admin? || lotion.created_by == current_user || current_user.superuser?)
            .meta
              %span
                - if current_user.admin?
                  = link_to "Info", lotion_path(lotion)#, {:class => "btn btn-default"}
                - if (lotion.created_by == current_user) || current_user.superuser?
                  = link_to "Edit", edit_lotion_path(lotion)#, {:class => "btn btn-primary"}
                  = link_to t('.destroy', :default => t("helpers.links.destroy")),
                        lotion_path(lotion),
                        :method => 'delete',
                        :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }

:javascript
  var $container = $('#lotions');
      $container.imagesLoaded(function(){
      $container.masonry({
        lotionSelector : '.lotion',
        columnWidth : 290,
        isAnimated: true
      });
    });